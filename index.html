<!DOCTYPE html>
<html>
<head>
  <title>Rock Paper Scissors 2</title>
</head>
<body>
	<header>
		<h1>Rock Paper Scissors</h1>
		<h2>Play against the computer!</h2>
		<h3>First to win 5 rounds wins the match</h3>
	</header>
	<main>



	</main>






  <script>
   
    // https://www.theodinproject.com/courses/web-development-101/lessons/rock-paper-scissors

    function computerPlay() {
    	let myRandNum = Math.random();
    	if (myRandNum < .33) return ("Rock");
    		else if (myRandNum < .66) return ("Paper");
    		else return ("Scissors"); 
    }
    
    function playRound(playerSelection, computerSelection) {
    	let player = playerSelection.toLowerCase();
    	let computer = computerSelection.toLowerCase();

    	// alert ("computer = "+ computer + ", player = "+ player);

    	if (player === computer) {
    		return "Tie; both had "+player;
    	} else { 
    		switch(player) {
    			case "rock":
    				retmsg = (computer==="paper"?"You lose! paper beats rock":"You win! rock beats scissors");
    				break;
    			case "paper":
    				retmsg = (computer==="rock"?"You win! paper beats rock":"You lose! scissors beats paper");
    				break;
    			case "scissors":
    				retmsg = (computer==="paper"?"You win! scissors beats paper":"You lose! rock beats scissors");
    				break;
    		}
    		return retmsg;
    	}
    }

    function game() {
    	let myString;
    	let playerSelection;
    	let computerSelection;
    	let result;
    	for (i=1;i<=5;i++) {
    		myString = prompt("Rock, paper, scissors?");
    		playerSelection = myString.toLowerCase();

    		while (!allowableAnswers.includes(playerSelection) ) {
    			myString = prompt("Try again: Rock, paper, scissors?");
    			playerSelection = myString.toLowerCase();
    		}

    		computerSelection = computerPlay();
    		// alert("you chose "+playerSelection+", computer chose "+computerSelection);
    		result = playRound(playerSelection,computerSelection);
    		console.log("Round "+i+": "+result);
    		if (result.includes("win")) {
    			numPlayerWins++;
    		} else if (result.includes("lose")) {
    			numComputerWins++;
    		}
    	}
    	
    	if (numPlayerWins > numComputerWins) { 
    		console.log( numPlayerWins + " to "+numComputerWins+", you win the match!");
    	} else if (numPlayerWins < numComputerWins) {
    		console.log( numPlayerWins + " to "+numComputerWins+", you lost the match :-(");
    	} else {
    		console.log("Tied match,"+numPlayerWins+" each");
    	}
    }

    const allowableAnswers = ["rock","paper","scissors"];
    let numPlayerWins = 0;
    let numComputerWins = 0;
    game();

  </script>
</body>
</html>